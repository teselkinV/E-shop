{"ast":null,"code":"function toObj(source) {\n  return Object.keys(source).reduce(function (output, key) {\n    var parentKey = key.match(/[^\\[]*/i);\n    var paths = key.match(/\\[.*?\\]/g) || [];\n    paths = [parentKey[0]].concat(paths).map(function (key) {\n      return key.replace(/\\[|\\]/g, '');\n    });\n    var currentPath = output;\n\n    while (paths.length) {\n      var pathKey = paths.shift();\n\n      if (pathKey in currentPath) {\n        currentPath = currentPath[pathKey];\n      } else {\n        currentPath[pathKey] = paths.length ? isNaN(paths[0]) ? {} : [] : source[key];\n        currentPath = currentPath[pathKey];\n      }\n    }\n\n    return output;\n  }, {});\n}\n\nfunction fromObj(obj) {\n  function recur(newObj, propName, currVal) {\n    if (Array.isArray(currVal) || Object.prototype.toString.call(currVal) === '[object Object]') {\n      Object.keys(currVal).forEach(function (v) {\n        recur(newObj, propName + \"[\" + v + \"]\", currVal[v]);\n      });\n      return newObj;\n    }\n\n    newObj[propName] = currVal;\n    return newObj;\n  }\n\n  var keys = Object.keys(obj);\n  return keys.reduce(function (newObj, propName) {\n    return recur(newObj, propName, obj[propName]);\n  }, {});\n}\n\nmodule.exports = {\n  fromObj: fromObj,\n  toObj: toObj\n};","map":{"version":3,"sources":["/Users/vladimir/Desktop/Projects/Ecommerce/e-shop/node_modules/form-data-to-object/index.js"],"names":["toObj","source","Object","keys","reduce","output","key","parentKey","match","paths","concat","map","replace","currentPath","length","pathKey","shift","isNaN","fromObj","obj","recur","newObj","propName","currVal","Array","isArray","prototype","toString","call","forEach","v","module","exports"],"mappings":"AAAA,SAASA,KAAT,CAAeC,MAAf,EAAuB;AACrB,SAAOC,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,MAApB,CAA2B,UAAUC,MAAV,EAAkBC,GAAlB,EAAuB;AACvD,QAAIC,SAAS,GAAGD,GAAG,CAACE,KAAJ,CAAU,SAAV,CAAhB;AACA,QAAIC,KAAK,GAAGH,GAAG,CAACE,KAAJ,CAAU,UAAV,KAAyB,EAArC;AACAC,IAAAA,KAAK,GAAG,CAACF,SAAS,CAAC,CAAD,CAAV,EAAeG,MAAf,CAAsBD,KAAtB,EAA6BE,GAA7B,CAAiC,UAAUL,GAAV,EAAe;AACtD,aAAOA,GAAG,CAACM,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAP;AACD,KAFO,CAAR;AAGA,QAAIC,WAAW,GAAGR,MAAlB;;AACA,WAAOI,KAAK,CAACK,MAAb,EAAqB;AACnB,UAAIC,OAAO,GAAGN,KAAK,CAACO,KAAN,EAAd;;AAEA,UAAID,OAAO,IAAIF,WAAf,EAA4B;AAC1BA,QAAAA,WAAW,GAAGA,WAAW,CAACE,OAAD,CAAzB;AACD,OAFD,MAEO;AACLF,QAAAA,WAAW,CAACE,OAAD,CAAX,GAAuBN,KAAK,CAACK,MAAN,GAAeG,KAAK,CAACR,KAAK,CAAC,CAAD,CAAN,CAAL,GAAkB,EAAlB,GAAuB,EAAtC,GAA2CR,MAAM,CAACK,GAAD,CAAxE;AACAO,QAAAA,WAAW,GAAGA,WAAW,CAACE,OAAD,CAAzB;AACD;AACF;;AAED,WAAOV,MAAP;AACD,GAnBM,EAmBJ,EAnBI,CAAP;AAoBD;;AAED,SAASa,OAAT,CAAiBC,GAAjB,EAAsB;AACpB,WAASC,KAAT,CAAeC,MAAf,EAAuBC,QAAvB,EAAiCC,OAAjC,EAA0C;AACxC,QAAIC,KAAK,CAACC,OAAN,CAAcF,OAAd,KAA0BrB,MAAM,CAACwB,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,OAA/B,MAA4C,iBAA1E,EAA6F;AAC3FrB,MAAAA,MAAM,CAACC,IAAP,CAAYoB,OAAZ,EAAqBM,OAArB,CAA6B,UAASC,CAAT,EAAY;AACvCV,QAAAA,KAAK,CAACC,MAAD,EAASC,QAAQ,GAAG,GAAX,GAAiBQ,CAAjB,GAAqB,GAA9B,EAAmCP,OAAO,CAACO,CAAD,CAA1C,CAAL;AACD,OAFD;AAGA,aAAOT,MAAP;AACD;;AAEDA,IAAAA,MAAM,CAACC,QAAD,CAAN,GAAmBC,OAAnB;AACA,WAAOF,MAAP;AACD;;AAED,MAAIlB,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYgB,GAAZ,CAAX;AACA,SAAOhB,IAAI,CAACC,MAAL,CAAY,UAASiB,MAAT,EAAiBC,QAAjB,EAA2B;AAC5C,WAAOF,KAAK,CAACC,MAAD,EAASC,QAAT,EAAmBH,GAAG,CAACG,QAAD,CAAtB,CAAZ;AACD,GAFM,EAEJ,EAFI,CAAP;AAGD;;AAEDS,MAAM,CAACC,OAAP,GAAiB;AACfd,EAAAA,OAAO,EAAEA,OADM;AAEflB,EAAAA,KAAK,EAAEA;AAFQ,CAAjB","sourcesContent":["function toObj(source) {\n  return Object.keys(source).reduce(function (output, key) {\n    var parentKey = key.match(/[^\\[]*/i);\n    var paths = key.match(/\\[.*?\\]/g) || [];\n    paths = [parentKey[0]].concat(paths).map(function (key) {\n      return key.replace(/\\[|\\]/g, '');\n    });\n    var currentPath = output;\n    while (paths.length) {\n      var pathKey = paths.shift();\n\n      if (pathKey in currentPath) {\n        currentPath = currentPath[pathKey];\n      } else {\n        currentPath[pathKey] = paths.length ? isNaN(paths[0]) ? {} : [] : source[key];\n        currentPath = currentPath[pathKey];\n      }\n    }\n\n    return output;\n  }, {});\n}\n\nfunction fromObj(obj) {\n  function recur(newObj, propName, currVal) {\n    if (Array.isArray(currVal) || Object.prototype.toString.call(currVal) === '[object Object]') {\n      Object.keys(currVal).forEach(function(v) {\n        recur(newObj, propName + \"[\" + v + \"]\", currVal[v]);\n      });\n      return newObj;\n    }\n\n    newObj[propName] = currVal;\n    return newObj;\n  }\n\n  var keys = Object.keys(obj);\n  return keys.reduce(function(newObj, propName) {\n    return recur(newObj, propName, obj[propName]);\n  }, {});\n}\n\nmodule.exports = {\n  fromObj: fromObj,\n  toObj: toObj\n}"]},"metadata":{},"sourceType":"script"}